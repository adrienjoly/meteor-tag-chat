<template name="layout">
  {{> loginButtons align="right"}}<br>
  {{#unless currentUser}}
    {{> loginPage}}
   {{else}}
    {{> yield}}
  {{/unless}}
</template>

<!-- login page -->

<template name="loginPage">
  please login
</template>

<!-- home page (after login) -->

<template name="home">
  <h1>Tag Chat Prototype</h1>
  <p>Your tags:
    <form id="mytagsForm">
      <input type="text" id="mytags" placeholder="paris, piano, zzz" value="{{mytagsStr}}">
      <input type="submit" name="ok" value="OK">
    </form>
  </p>
  <h2>Chat rooms:</h2>
  <ul>
  {{#each chatrooms}}
    <li><a target="_blank" href="/chatroom/{{_id}}">{{_id}}: {{tags}}</a></li>
  {{/each}}    
  </ul>
</template>

<!-- chat room page -->

<template name="chatroom">
  <h1>Chat room: {{params._id}}</h1>
  <p>Message: <input type="text" id="message"></p>
  {{#each messages}}
    <strong>{{uId}}:</strong> {{message}}<br>
  {{/each}}
</template>
